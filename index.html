<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>AR Nội Thất</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <!-- A-Frame & AR.js -->
  <script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>
  <script src="https://cdn.rawgit.com/jeromeetienne/ar.js/2.2.1/aframe/build/aframe-ar.min.js"></script>
  <script src="https://unpkg.com/aframe-drag-component/dist/aframe-drag-component.min.js"></script>
  <script src="https://unpkg.com/aframe-environment-component/dist/aframe-environment-component.min.js"></script>

  <link rel="stylesheet" href="assets/style.css">
</head>

<body style="margin: 0; overflow: hidden;">
  <div id="ui" style="position: fixed; top: 10px; left: 10px; z-index: 10; background: rgba(255,255,255,0.8); padding: 10px; border-radius: 8px;">
    <h3>AR Nội Thất</h3>
    <label>Chọn nội thất:</label>
    <select id="modelSelector">
      <option value="sofa">Sofa</option>
      <option value="table">Bàn</option>
      <option value="chair">Ghế</option>
      <option value="lamp">Đèn</option>
    </select><br><br>

    <label>Kích thước:</label>
    <input type="range" id="scaleSlider" min="0.5" max="2" step="0.1" value="1"><br><br>

    <label>Màu sắc:</label>
    <input type="color" id="colorPicker" value="#ffffff"><br><br>

    <label>Vật liệu:</label>
    <select id="materialSelector">
      <option value="default">Mặc định</option>
      <option value="wood">Gỗ</option>
      <option value="metal">Kim loại</option>
      <option value="plastic">Nhựa</option>
      <option value="fabric">Vải</option>
    </select><br><br>

    <button id="toggleLight">Bật/Tắt đèn</button><br><br>
    <button id="screenshot">Chụp ảnh</button>
  </div>

  <!-- A-Frame Scene -->
  <a-scene
    embedded
    arjs="sourceType: webcam; detectionMode: mono; debugUIEnabled: false;"
    environment="preset: forest"
    vr-mode-ui="enabled: false"
    renderer="logarithmicDepthBuffer: true;"
  >
    <a-assets>
      <a-asset-item id="sofaModel" src="models/sofa.glb"></a-asset-item>
      <a-asset-item id="tableModel" src="models/table.glb"></a-asset-item>
      <a-asset-item id="chairModel" src="models/chair.glb"></a-asset-item>
      <a-asset-item id="lampModel" src="models/lamp.glb"></a-asset-item>

      <img id="woodTexture" src="assets/textures/wood.jpg">
      <img id="metalTexture" src="assets/textures/metal.jpg">
      <img id="plasticTexture" src="assets/textures/plastic.jpg">
      <img id="fabricTexture" src="assets/textures/fabric.jpg">
    </a-assets>

    <a-marker preset="hiro">
      <a-entity id="object" gltf-model="#sofaModel" scale="1 1 1" rotation="0 0 0" drag></a-entity>
    </a-marker>

    <a-light id="ambientLight" type="ambient" color="#fff" intensity="0.5"></a-light>
    <a-light id="directionalLight" type="directional" color="#fff" intensity="0.5" position="-1 2 1"></a-light>

    <a-entity camera></a-entity>
  </a-scene>

  <script src="js/app.js"></script>
</body>
</html>
